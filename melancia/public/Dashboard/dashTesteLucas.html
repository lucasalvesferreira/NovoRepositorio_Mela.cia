<!DOCTYPE html>
<html lang="pt-br">

<head>

    <head>
        <title>Dashboard</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="shortcut icon" href="../assets/icons/melan2.ico" type="image/x-icon">
         <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js"></script>
        <script src="http://www.chartjs.org/dist/2.7.1/Chart.js"></script>
        <script src="http://www.chartjs.org/samples/latest/utils.js"></script> 

        <link rel="stylesheet" href="./dashTesteLucas.css">

    </head>
</head>

<div class="container">

    <nav class="nav__cont">
        <ul class="nav">

            <li class="nav__items ">
                <div class="img_user"></div>
                <a href="">Usuário</a>
            </li>

            <li class="nav__items ">
                <div class="img_home"></div>
                <a href="">Home</a>
            </li>

            <li class="nav__items ">
                <div class="img_dashboard"></div>
                <a href="">Graficos</a>

            </li>

            <li class="nav__items ">
                <div class="img_suporte"></div>
                <a href="">Suporte</a>
            </li>

            <div class="nav_items_sair">
                <li class="nav__items ">
                    <div class="img_sair"></div>
                    <a href="">Sair</a>
                </li>
            </div>
        </ul>

    </nav>




    <div class="corpo">

        <div class="div_cima">
            <i>Melan.cia</i>

            <div class="div_medias">

                <div id="pequena">
                    <b> Media-Temperatura:</b>
                </div>
                <div id="pequena">
                    <b> Media-Umidade:</b>
                </div>
                <div id="pequena">
                    <b> Variação:</b>
                </div>

            </div>
            <div id="troca_canteiro">
                <button clas="btn-chart" onclick="obterDadosGrafico(1)" >Canteiro1</button>
                <button clas="btn-chart" onclick="obterDadosGrafico(2)">Canteiro2</button>
                <button clas="btn-chart" onclick="obterDadosGrafico(3)">Canteiro3</button>
                <button clas="btn-chart" onclick="obterDadosGrafico(4)">Canteiro4</button>
            </div>

        </div>


        <div class="meio">

            <div class="graficoMeioD">

                <div class="dash">
                    
                    <div class="graph">
                        <canvas id="canvas_grafico"></canvas>
                    </div>
                </div>

            </div>

            <div class="meiodomeio" >
               

                    <div class="DHT_11umi">

                        <h1>Sensor DHT 11 - Umidade</h1>
                        <section>
                            <h2>Média: <label id='average'>0.00</label></h2>
                        </section>
                        <section style="width:60%">
                            <canvas id="chart"></canvas>
                        </section>
                    </div>

                    <div class="DHT_11temp">

                        <h1>Sensor DHT 11 - Temperatura</h1>
                        <section>
                            <h2>Média: <label id="average2">0.00</label></h2>
                        </section>
                        <section style="width: 60%;">
                            <canvas id="chart2"></canvas>
                        </section>
                    </div>

                    <div class="lumin">

                        <h1>Luminosidade</h1>
                        <section>
                            <h2>Média: <label id="average3">0.00</label></h2>
                        </section>
                        <section style="width: 60%;">
                            <canvas id="chart3"></canvas>
                        </section>
                    </div>

                    <div class="LM35temp">


                        <h1>LM35 - Temperatura</h1>
                        <section>
                            <h2>Média: <label id="average4">0.00</label></h2>
                        </section>
                        <section style="width: 80%;">
                            <canvas id="chart4"></canvas>
                        </section>
                    </div>

                </div>

            

            <div class="graficoMeioE">

                <div class="dash">
                    
                    <div class="graph">
                        <canvas id="canvas_grafico"></canvas>
                    </div>
                </div>

            </div>
        </div>



        <div class="baixo">

            <div class="graficodireita"></div>
            <div class="graficoEsquerda"></div>
        </div>

    </div>

</div>


</body>

</html>

<script>

function sendSensorsData(){
				var http = new XMLHttpRequest();
				http.open('POST', 'http://localhost:3000/api/sendData', false);
				http.send(null);
		}

        setInterval(() => {
			sendSensorsData();
        }, 1000);


</script>